0 '**** Simple Command Line Time Display for Altair-Duino I/O Bus RTC clock ****
10 PM=0
20 ' READ SECONDS
30 OUT 96,129
40 IF INP(96) AND 128 THEN 40
50 D=INP(97)
60 D=INT(D/16)*10+(D AND 15)
70 S=D

100 'READ MINUTES
110 OUT 96,131
120 IF INP(96) AND 128 THEN 120
130 D=INP(97)
140 D=INT(D/16)*10+(D AND 15)
150 M=D

160 'READ HOURS
170 OUT 96,133
180 IF INP(96) AND 128 THEN 180
190 D=INP(97)
200 D=INT(D/16)*10+(D AND 15)
210 H=D

220 ' READ SECONDS ROLL OVER CHECK
230 OUT 96,129
240 IF INP(96) AND 128 THEN 240
250 D=INP(97)
260 D=INT(D/16)*10+(D AND 15)
270 IF D<S THEN GOTO 20

280 'READ DAY
290 OUT 96,135
300 IF INP(96) AND 128 THEN 300
310 D=INP(97)
320 D=INT(D/16)*10+(D AND 15)
330 DAY=D

340 'READ MONTH
350 OUT 96,137
360 IF INP(96) AND 128 THEN 360
370 D=INP(97)
380 D=INT(D/16)*10+(D AND 15)
390 MONTH=D

400 'READ WEEKDAY
410 OUT 96,139 
420 IF INP(96) AND 128 THEN 420
430 D=INP(97)
440 D=INT(D/16)*10+(D AND 15)
450 WEEKDAY=D
 
460 IF WEEKDAY=1 THEN WEEKDAY$="Sunday"
470 IF WEEKDAY=2 THEN WEEKDAY$="Monday"
480 IF WEEKDAY=3 THEN WEEKDAY$="Tuesday"
490 IF WEEKDAY=4 THEN WEEKDAY$="Wednesday"
500 IF WEEKDAY=5 THEN WEEKDAY$="Thursday"
510 IF WEEKDAY=6 THEN WEEKDAY$="Friday"
520 IF WEEKDAY=7 THEN WEEKDAY$="Saturday"

530 'READ YEAR
540 OUT 96,141
550 IF INP(96) AND 128 THEN 550
560 D=INP(97)
570 D=INT(D/16)*10+(D AND 15)
580 YEAR=D

590 IF (H>12) THEN H=H-12:PM=1
600 IF (H=12) THEN PM=1
610 IF (H=0) THEN H=12
620 IF (PM=0) THEN PRINT "The current time is: " H":"M":"S" AM"
630 IF (PM=1) THEN PRINT "The current time is: " H":"M":"S" PM"
640 PRINT "The current date is: " WEEKDAY$" "MONTH"/"DAY"/"YEAR
650 END
